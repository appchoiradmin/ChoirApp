// ChoirApp Enhanced Design System Theme
// ====================================

// Import design tokens FIRST
@use './_variables.scss' as *;

// Import Google Fonts
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

// Bulma variable overrides (from _variables.scss)
// $primary, $link, $info, $success, $warning, $danger, $family-primary already set

// Import Bulma (only place where @import is used)
@import "bulma/bulma";

// Enhanced Global Styles
// ======================

* {
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: $font-family-base;
  font-size: $font-size-base;
  font-weight: $font-weight-normal;
  line-height: 1.6;
  color: $color-neutral-900;
  background: $color-neutral-50;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Enhanced Typography Hierarchy
// =============================

h1, h2, h3, h4, h5, h6 {
  font-family: $font-family-heading;
  font-weight: $font-weight-bold;
  line-height: 1.2;
  color: $color-neutral-900;
  margin-bottom: $spacing-md;
}

h1 {
  font-size: $font-size-4xl;
  font-weight: $font-weight-extrabold;
}

h2 {
  font-size: $font-size-3xl;
  font-weight: $font-weight-bold;
}

h3 {
  font-size: $font-size-2xl;
  font-weight: $font-weight-semibold;
}

h4 {
  font-size: $font-size-xl;
  font-weight: $font-weight-semibold;
}

h5 {
  font-size: $font-size-lg;
  font-weight: $font-weight-medium;
}

h6 {
  font-size: $font-size-base;
  font-weight: $font-weight-medium;
}

// Enhanced Button Styles
// ======================

.button {
  font-family: $font-family-base;
  font-weight: $font-weight-medium;
  border-radius: $radius-lg;
  border: none;
  transition: all $transition-fast;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: $spacing-sm;
  
  &:hover {
    transform: translateY(-1px);
    box-shadow: $shadow-md;
  }
  
  &:active {
    transform: translateY(0);
  }
  
  &.is-primary {
    background: linear-gradient(135deg, $color-primary 0%, lighten($color-primary, 10%) 100%);
    color: white;
    
    &:hover {
      background: linear-gradient(135deg, darken($color-primary, 5%) 0%, $color-primary 100%);
    }
  }
  
  &.is-secondary {
    background: linear-gradient(135deg, $color-secondary 0%, lighten($color-secondary, 10%) 100%);
    color: white;
    
    &:hover {
      background: linear-gradient(135deg, darken($color-secondary, 5%) 0%, $color-secondary 100%);
    }
  }
  
  &.is-accent {
    background: linear-gradient(135deg, $color-accent 0%, lighten($color-accent, 10%) 100%);
    color: white;
    
    &:hover {
      background: linear-gradient(135deg, darken($color-accent, 5%) 0%, $color-accent 100%);
    }
  }
  
  &.is-outlined {
    background: transparent;
    border: 2px solid $color-primary;
    color: $color-primary;
    
    &:hover {
      background: $color-primary;
      color: white;
    }
  }
  
  &.is-xl {
    font-size: $font-size-lg;
    padding: $spacing-lg $spacing-2xl;
    min-height: 3.5rem;
  }
}

// Enhanced Card Styles
// ===================

.card {
  border-radius: $radius-xl;
  box-shadow: $shadow-sm;
  border: 1px solid $color-neutral-200;
  background: white;
  transition: all $transition-normal;
  
  &:hover {
    box-shadow: $shadow-lg;
    transform: translateY(-2px);
  }
  
  .card-header {
    border-radius: $radius-xl $radius-xl 0 0;
    background: $color-neutral-50;
    border-bottom: 1px solid $color-neutral-200;
  }
  
  .card-content {
    padding: $spacing-lg;
  }
}

// Musical Theme Elements
// =====================

.musical-accent {
  color: $color-musical-dark;
  font-family: $font-family-musical;
}

.hero-musical {
  position: relative;
  overflow: hidden;
  background: linear-gradient(135deg, $color-primary 0%, $color-secondary 100%);
  color: white;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
      $color-primary 0%, 
      mix($color-primary, $color-secondary, 70%) 50%,
      $color-secondary 100%
    );
    opacity: 0.95;
  }
  
  .title {
    color: white;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
  
  .subtitle {
    color: rgba(255, 255, 255, 0.9);
  }
  
  .hero-body {
    position: relative;
    z-index: 1;
  }
}

// Wave animation and homepage enhancements
// =======================================

.wave {
  width: 100%;
  height: 100px;
  display: block;
  margin-top: -1px;
}

// Feature cards hover effects
.section .card:hover {
  transform: translateY(-4px);
  box-shadow: $shadow-xl;
}

// Mobile-first viewport optimization
.hero.is-fullheight {
  min-height: 100vh;
  
  @media (max-width: 768px) {
    min-height: 90vh; // Account for mobile browser UI
  }
}

// Improved mobile spacing
@media (max-width: 768px) {
  .section {
    padding: 2rem 1rem;
  }
  
  .container {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  
  // Stack buttons vertically on mobile
  .buttons.is-centered {
    flex-direction: column;
    align-items: center;
    
    .button + .button {
      margin-left: 0;
      margin-top: 0.75rem;
    }
  }
  
  // Better mobile cards
  .card {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    border-radius: 12px;
  }
}

// Tablet and up improvements
@media (min-width: 769px) {
  .buttons.is-centered {
    flex-direction: row;
    justify-content: center;
    
    .button + .button {
      margin-top: 0;
      margin-left: 1rem;
    }
  }
}

// Utility Classes
// ==============

.text-accent {
  color: $color-accent !important;
}

.text-primary {
  color: $color-primary !important;
}

.text-secondary {
  color: $color-secondary !important;
}

.gradient-primary {
  background: linear-gradient(135deg, $color-primary 0%, $color-secondary 100%);
}

.gradient-accent {
  background: linear-gradient(135deg, $color-accent 0%, $color-musical-dark 100%);
}

// Gradient Background Utilities
// =============================

.bg-gradient-to-br {
  &.from-primary-light.to-secondary-light {
    background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 50%, #ede9fe 100%) !important;
  }
  
  &.from-danger-light.to-warning-light {
    background: linear-gradient(135deg, #fef2f2 0%, #fffbeb 100%) !important;
  }
}

// Override any conflicting Bulma gradients
.hero.bg-gradient-to-br {
  &.from-primary-light.to-secondary-light {
    background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 50%, #ede9fe 100%) !important;
  }
}

// Authentication Pages Enhancements
// =================================

.cursor-pointer {
  cursor: pointer;
}

.h-100 {
  height: 100%;
}

.transition-all {
  transition: all 0.3s ease;
}

// Enhanced card borders and shadows for selection states
.border-primary {
  border: 2px solid $primary !important;
}

.border-secondary {
  border: 2px solid $secondary !important;
}

.shadow-primary {
  box-shadow: 0 8px 25px rgba(37, 99, 235, 0.15) !important;
}

.shadow-secondary {
  box-shadow: 0 8px 25px rgba(124, 58, 237, 0.15) !important;
}

// Icon utilities
.icon {
  &.is-size-1 {
    font-size: 3rem !important;
    width: 3rem !important;
    height: 3rem !important;
  }
}

// Progress bar enhancements
.progress {
  &.is-primary {
    &::-webkit-progress-value {
      background: linear-gradient(to right, $primary, lighten($primary, 10%));
    }
    
    &::-moz-progress-bar {
      background: linear-gradient(to right, $primary, lighten($primary, 10%));
    }
  }
}

// Details/summary styling for error messages
details {
  summary {
    cursor: pointer;
    
    &:hover {
      color: $primary;
    }
  }
}

// Responsive Utilities
// ===================

@media (max-width: 768px) {
  h1 {
    font-size: $font-size-3xl;
  }
  
  h2 {
    font-size: $font-size-2xl;
  }
  
  .hero-musical {
    .title {
      font-size: $font-size-3xl !important;
    }
    
    .subtitle {
      font-size: $font-size-lg !important;
    }
  }
  
  .buttons {
    flex-direction: column;
    
    .button {
      width: 100%;
      margin: $spacing-sm 0 !important;
    }
  }
  
  .card {
    margin: $spacing-sm;
  }
}

// Mobile-first responsive utilities
@media screen and (max-width: 768px) {
  .is-fullwidth-mobile {
    width: 100% !important;
  }
  
  .mr-0-mobile {
    margin-right: 0 !important;
  }
  
  .px-3 {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
}

@media screen and (min-width: 769px) {
  .mr-4-tablet {
    margin-right: 1.5rem !important;
  }
  
  .px-0-tablet {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}

// Touch-friendly improvements for mobile
@media (max-width: 768px) {
  .button {
    min-height: 44px; // iOS touch target minimum
    padding: 0.75rem 1.5rem;
  }
  
  .card {
    margin-bottom: 1rem;
  }
  
  // Better touch targets for form elements
  input, textarea, select {
    min-height: 44px;
    font-size: 16px; // Prevents zoom on iOS
  }
}
